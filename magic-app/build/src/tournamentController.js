var Magic;
(function (Magic) {
    var App;
    (function (App) {
        var Tournament;
        (function (Tournament) {
            var TournamentController = (function () {
                function TournamentController($scope, $http, $state) {
                    this.tournamentModel = {
                        format: "Draft",
                        numRounds: null,
                        players: [],
                        set: null
                    };
                    this.http = $http;
                    this.state = $state;
                }
                TournamentController.prototype.startTournament = function () {
                    var _this = this;
                    console.log(this.tournamentModel.players);
                    console.log("rounds: " + this.tournamentModel.numRounds);
                    this.http.post("api/tournament/register", {
                        "players": this.tournamentModel.players,
                        "format": this.tournamentModel.format,
                        "code": this.tournamentModel.set,
                    }, {
                        "params": {
                            "rounds": this.tournamentModel.numRounds,
                        },
                    }).then(function (createTournamentResponse) {
                        var tournamentId = createTournamentResponse.data;
                        console.log(tournamentId);
                        _this.state.go("instance", { id: encodeURI(tournamentId) });
                    });
                };
                TournamentController.prototype.shufflePlayers = function () {
                    var i = 0, j = 0, temp = { "id": 1, "name": "" };
                    for (i = this.tournamentModel.players.length - 1; i > 0; i -= 1) {
                        j = Math.floor(Math.random() * (i + 1));
                        temp = this.tournamentModel.players[i];
                        this.tournamentModel.players[i] = this.tournamentModel.players[j];
                        this.tournamentModel.players[j] = temp;
                    }
                };
                TournamentController.$inject = ["$scope", "$http", "$state"];
                return TournamentController;
            })();
            Tournament.TournamentController = TournamentController;
            App.magic.controller("tournamentController", TournamentController);
        })(Tournament = App.Tournament || (App.Tournament = {}));
    })(App = Magic.App || (Magic.App = {}));
})(Magic || (Magic = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvdXJuYW1lbnRDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbIk1hZ2ljIiwiTWFnaWMuQXBwIiwiTWFnaWMuQXBwLlRvdXJuYW1lbnQiLCJNYWdpYy5BcHAuVG91cm5hbWVudC5Ub3VybmFtZW50Q29udHJvbGxlciIsIk1hZ2ljLkFwcC5Ub3VybmFtZW50LlRvdXJuYW1lbnRDb250cm9sbGVyLmNvbnN0cnVjdG9yIiwiTWFnaWMuQXBwLlRvdXJuYW1lbnQuVG91cm5hbWVudENvbnRyb2xsZXIuc3RhcnRUb3VybmFtZW50IiwiTWFnaWMuQXBwLlRvdXJuYW1lbnQuVG91cm5hbWVudENvbnRyb2xsZXIuc2h1ZmZsZVBsYXllcnMiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sS0FBSyxDQW9EWDtBQXBERCxXQUFPLEtBQUs7SUFBQ0EsSUFBQUEsR0FBR0EsQ0FvRGZBO0lBcERZQSxXQUFBQSxHQUFHQTtRQUFDQyxJQUFBQSxVQUFVQSxDQW9EMUJBO1FBcERnQkEsV0FBQUEsVUFBVUEsRUFBQ0EsQ0FBQ0E7WUFFekJDO2dCQU1JQyw4QkFBWUEsTUFBaUJBLEVBQUVBLEtBQXNCQSxFQUFFQSxNQUEyQkE7b0JBQzlFQyxJQUFJQSxDQUFDQSxlQUFlQSxHQUFHQTt3QkFDbkJBLE1BQU1BLEVBQUVBLE9BQU9BO3dCQUNmQSxTQUFTQSxFQUFFQSxJQUFJQTt3QkFDZkEsT0FBT0EsRUFBRUEsRUFBRUE7d0JBQ1hBLEdBQUdBLEVBQUVBLElBQUlBO3FCQUNaQSxDQUFDQTtvQkFDRkEsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsS0FBS0EsQ0FBQ0E7b0JBQ2xCQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxNQUFNQSxDQUFDQTtnQkFDeEJBLENBQUNBO2dCQUVNRCw4Q0FBZUEsR0FBdEJBO29CQUFBRSxpQkFtQkNBO29CQWxCR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7b0JBQzFDQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtvQkFDekRBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQU1BLHlCQUF5QkEsRUFDN0NBO3dCQUNJQSxTQUFTQSxFQUFFQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQTt3QkFDdkNBLFFBQVFBLEVBQUVBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLE1BQU1BO3dCQUNyQ0EsTUFBTUEsRUFBRUEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsR0FBR0E7cUJBQ25DQSxFQUNEQTt3QkFDSUEsUUFBUUEsRUFBQ0E7NEJBQ0xBLFFBQVFBLEVBQUVBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLFNBQVNBO3lCQUMzQ0E7cUJBQ0pBLENBQ0FBLENBQUNBLElBQUlBLENBQUNBLFVBQUNBLHdCQUF3QkE7d0JBQzVCQSxJQUFJQSxZQUFZQSxHQUFHQSx3QkFBd0JBLENBQUNBLElBQUlBLENBQUNBO3dCQUNqREEsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7d0JBQzFCQSxLQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxFQUFDQSxFQUFFQSxFQUFFQSxTQUFTQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFDQSxDQUFDQSxDQUFDQTtvQkFDN0RBLENBQUNBLENBQUNBLENBQUNBO2dCQUNQQSxDQUFDQTtnQkFFTUYsNkNBQWNBLEdBQXJCQTtvQkFDSUcsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsSUFBSUEsR0FBR0EsRUFBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0EsRUFBRUEsTUFBTUEsRUFBRUEsRUFBRUEsRUFBQ0EsQ0FBQ0E7b0JBQy9DQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQTt3QkFDOURBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO3dCQUN4Q0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQ3ZDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDbEVBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO29CQUMzQ0EsQ0FBQ0E7Z0JBQ0xBLENBQUNBO2dCQTVDYUgsNEJBQU9BLEdBQUdBLENBQUNBLFFBQVFBLEVBQUVBLE9BQU9BLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBO2dCQTZDMURBLDJCQUFDQTtZQUFEQSxDQS9DQUQsQUErQ0NDLElBQUFEO1lBL0NZQSwrQkFBb0JBLHVCQStDaENBLENBQUFBO1lBRURBLFNBQUtBLENBQUNBLFVBQVVBLENBQUNBLHNCQUFzQkEsRUFBRUEsb0JBQW9CQSxDQUFDQSxDQUFDQTtRQUNuRUEsQ0FBQ0EsRUFwRGdCRCxVQUFVQSxHQUFWQSxjQUFVQSxLQUFWQSxjQUFVQSxRQW9EMUJBO0lBQURBLENBQUNBLEVBcERZRCxHQUFHQSxHQUFIQSxTQUFHQSxLQUFIQSxTQUFHQSxRQW9EZkE7QUFBREEsQ0FBQ0EsRUFwRE0sS0FBSyxLQUFMLEtBQUssUUFvRFgiLCJmaWxlIjoidG91cm5hbWVudENvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgTWFnaWMuQXBwLlRvdXJuYW1lbnQge1xuXG4gICAgZXhwb3J0IGNsYXNzIFRvdXJuYW1lbnRDb250cm9sbGVyIHtcblxuICAgICAgICBwdWJsaWMgc3RhdGljICRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkaHR0cFwiLCBcIiRzdGF0ZVwiXTtcbiAgICAgICAgcHVibGljIHRvdXJuYW1lbnRNb2RlbDogTWFnaWMuQXBwLkRyYWZ0Q29uZmlnLklUb3VybmFtZW50TW9kZWw7XG4gICAgICAgIHB1YmxpYyBzdGF0ZTogbmcudWkuSVN0YXRlU2VydmljZTtcbiAgICAgICAgcHJpdmF0ZSBodHRwOiBuZy5JSHR0cFNlcnZpY2U7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRzY29wZTogbmcuSVNjb3BlLCAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlLCAkc3RhdGU6IG5nLnVpLklTdGF0ZVNlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMudG91cm5hbWVudE1vZGVsID0ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJEcmFmdFwiLFxuICAgICAgICAgICAgICAgIG51bVJvdW5kczogbnVsbCxcbiAgICAgICAgICAgICAgICBwbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgICAgICBzZXQ6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAkc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyBzdGFydFRvdXJuYW1lbnQoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvdXJuYW1lbnRNb2RlbC5wbGF5ZXJzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicm91bmRzOiBcIiArIHRoaXMudG91cm5hbWVudE1vZGVsLm51bVJvdW5kcyk7XG4gICAgICAgICAgICB0aGlzLmh0dHAucG9zdDxhbnk+KFwiYXBpL3RvdXJuYW1lbnQvcmVnaXN0ZXJcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInBsYXllcnNcIjogdGhpcy50b3VybmFtZW50TW9kZWwucGxheWVycyxcbiAgICAgICAgICAgICAgICBcImZvcm1hdFwiOiB0aGlzLnRvdXJuYW1lbnRNb2RlbC5mb3JtYXQsXG4gICAgICAgICAgICAgICAgXCJjb2RlXCI6IHRoaXMudG91cm5hbWVudE1vZGVsLnNldCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJwYXJhbXNcIjp7XG4gICAgICAgICAgICAgICAgICAgIFwicm91bmRzXCI6IHRoaXMudG91cm5hbWVudE1vZGVsLm51bVJvdW5kcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKS50aGVuKChjcmVhdGVUb3VybmFtZW50UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgdG91cm5hbWVudElkID0gY3JlYXRlVG91cm5hbWVudFJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codG91cm5hbWVudElkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdvKFwiaW5zdGFuY2VcIiwge2lkOiBlbmNvZGVVUkkodG91cm5hbWVudElkKX0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2h1ZmZsZVBsYXllcnMoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IDAsIGogPSAwLCB0ZW1wID0ge1wiaWRcIjogMSwgXCJuYW1lXCI6IFwiXCJ9O1xuICAgICAgICAgICAgZm9yIChpID0gdGhpcy50b3VybmFtZW50TW9kZWwucGxheWVycy5sZW5ndGggLSAxOyBpID4gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnRvdXJuYW1lbnRNb2RlbC5wbGF5ZXJzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMudG91cm5hbWVudE1vZGVsLnBsYXllcnNbaV0gPSB0aGlzLnRvdXJuYW1lbnRNb2RlbC5wbGF5ZXJzW2pdO1xuICAgICAgICAgICAgICAgIHRoaXMudG91cm5hbWVudE1vZGVsLnBsYXllcnNbal0gPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFnaWMuY29udHJvbGxlcihcInRvdXJuYW1lbnRDb250cm9sbGVyXCIsIFRvdXJuYW1lbnRDb250cm9sbGVyKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==