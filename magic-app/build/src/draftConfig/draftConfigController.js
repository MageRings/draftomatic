var Magic;
(function (Magic) {
    var App;
    (function (App) {
        var DraftConfig;
        (function (DraftConfig) {
            var DraftConfigController = (function () {
                function DraftConfigController($scope, $http) {
                    var _this = this;
                    this.$scope = $scope;
                    this.$scope.draftConfigController = this;
                    $http.get("api/players/list").then(function (response) {
                        console.log(response);
                        _this.$scope.allPlayers = response.data;
                    });
                    this.sets = [
                        {
                            name: "Magic: Origins",
                            value: "ori"
                        },
                        {
                            name: "Dragons of Tarkir",
                            value: "dtk"
                        },
                        {
                            name: "Battle for Zendikar",
                            value: "bfz"
                        },
                        {
                            name: "Modern Masters 2015",
                            value: "mm2"
                        },
                        {
                            name: "Oath of the Gatewatch",
                            value: "otg"
                        },
                        {
                            name: "Shadows Over Innistrad",
                            value: "soi"
                        },
                        {
                            name: "Eternal Masters",
                            value: "ema"
                        },
                        {
                            name: "Eldritch Moon",
                            value: "emn"
                        },
                        {
                            name: "Kaladesh",
                            value: "kld"
                        },
                        {
                            name: "Amonkhet",
                            value: "akh"
                        },
                        {
                            name: "Hour of Devastation",
                            value: "hou"
                        },
                        {
                            name: "Ixalan",
                            value: "XLN"
                        },
                        {
                            name: "Iconic Masters",
                            value: "IMA"
                        },
                        {
                            name: "Unstable",
                            value: "UST"
                        },
                        {
                            name: "Rivals of Ixalan",
                            value: "RIX"
                        },
                        {
                            name: "Masters 25",
                            value: "A25"
                        },
                        {
                            name: "Dominaria",
                            value: "DOM"
                        },
                        {
                            name: "Core 2019",
                            value: "M19"
                        },
                        {
                            name: "Chaos!",
                            value: "Chaos!"
                        }
                    ];
                    this.formats = ["LIMITED_DRAFT", "LIMITED_TEAM_DRAFT", "LIMITED_SEALED",
                        "LIMITED_TEAM_SEALED", "LIMITED_2HG_SEALED", "LIMITED_2HG_DRAFT",
                        "CONSTRUCTED_CASUAL", "CONSTRUCTED_STANDARD", "CONSTRUCTED_MODERN",
                        "CONSTRUCTED_LEGACY", "CONSTRUCTED_VINTAGE"];
                }
                DraftConfigController.prototype.addPendingPlayer = function () {
                    console.log(this.pendingPlayer);
                    if (typeof this.pendingPlayer === 'string') {
                        // if the new player is specified by the user, it will show up as a string
                        if ((this.pendingPlayer).length > 0) {
                            this.$scope.tournamentModel.players.push({
                                name: this.pendingPlayer,
                                id: -1,
                            });
                        }
                    }
                    else if (this.pendingPlayer.name.trim().length > 0) {
                        this.$scope.tournamentModel.players.push({
                            name: this.pendingPlayer.name,
                            id: this.pendingPlayer.id
                        });
                    }
                    ;
                    this.pendingPlayer = "";
                };
                DraftConfigController.prototype.removePlayer = function (player) {
                    _.remove(this.$scope.tournamentModel.players, player);
                };
                DraftConfigController.$inject = ["$scope", "$http"];
                return DraftConfigController;
            })();
            DraftConfig.DraftConfigController = DraftConfigController;
            App.magic.controller("draftConfigController", DraftConfigController);
        })(DraftConfig = App.DraftConfig || (App.DraftConfig = {}));
    })(App = Magic.App || (Magic.App = {}));
})(Magic || (Magic = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyYWZ0Q29uZmlnL2RyYWZ0Q29uZmlnQ29udHJvbGxlci50cyJdLCJuYW1lcyI6WyJNYWdpYyIsIk1hZ2ljLkFwcCIsIk1hZ2ljLkFwcC5EcmFmdENvbmZpZyIsIk1hZ2ljLkFwcC5EcmFmdENvbmZpZy5EcmFmdENvbmZpZ0NvbnRyb2xsZXIiLCJNYWdpYy5BcHAuRHJhZnRDb25maWcuRHJhZnRDb25maWdDb250cm9sbGVyLmNvbnN0cnVjdG9yIiwiTWFnaWMuQXBwLkRyYWZ0Q29uZmlnLkRyYWZ0Q29uZmlnQ29udHJvbGxlci5hZGRQZW5kaW5nUGxheWVyIiwiTWFnaWMuQXBwLkRyYWZ0Q29uZmlnLkRyYWZ0Q29uZmlnQ29udHJvbGxlci5yZW1vdmVQbGF5ZXIiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sS0FBSyxDQXVKWDtBQXZKRCxXQUFPLEtBQUs7SUFBQ0EsSUFBQUEsR0FBR0EsQ0F1SmZBO0lBdkpZQSxXQUFBQSxHQUFHQTtRQUFDQyxJQUFBQSxXQUFXQSxDQXVKM0JBO1FBdkpnQkEsV0FBQUEsV0FBV0EsRUFBQ0EsQ0FBQ0E7WUE2QjFCQztnQkFNSUMsK0JBQVlBLE1BQXlCQSxFQUFFQSxLQUFzQkE7b0JBTmpFQyxpQkF1SENBO29CQWhIT0EsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsTUFBTUEsQ0FBQ0E7b0JBQ3JCQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxxQkFBcUJBLEdBQUdBLElBQUlBLENBQUNBO29CQUN6Q0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBTUEsa0JBQWtCQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxRQUFRQTt3QkFDN0NBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBLENBQUFBO3dCQUNyQkEsS0FBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBVUEsR0FBR0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7b0JBQzNDQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDSEEsSUFBSUEsQ0FBQ0EsSUFBSUEs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dkpnQkQsV0FBV0EsR0FBWEEsZUFBV0EsS0FBWEEsZUFBV0EsUUF1SjNCQTtJQUFEQSxDQUFDQSxFQXZKWUQsR0FBR0EsR0FBSEEsU0FBR0EsS0FBSEEsU0FBR0EsUUF1SmZBO0FBQURBLENBQUNBLEVBdkpNLEtBQUssS0FBTCxLQUFLLFFBdUpYIiwiZmlsZSI6ImRyYWZ0Q29uZmlnL2RyYWZ0Q29uZmlnQ29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSBNYWdpYy5BcHAuRHJhZnRDb25maWcge1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJVG91cm5hbWVudE1vZGVsIHtcbiAgICAgICAgbnVtUm91bmRzOiBudW1iZXI7XG4gICAgICAgIHBsYXllcnM6IElQbGF5ZXJbXTtcbiAgICAgICAgZm9ybWF0OiBzdHJpbmc7XG4gICAgICAgIHNldDogc3RyaW5nO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVBsYXllciB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgaWQ6IG51bWJlcjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElTZXQge1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRHJhZnRDb25maWdDb250cm9sbGVyIHtcblxuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSURyYWZ0Q29uZmlnU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xuICAgICAgICBkcmFmdENvbmZpZ0NvbnRyb2xsZXI6IElEcmFmdENvbmZpZ0NvbnRyb2xsZXI7XG4gICAgICAgIHRvdXJuYW1lbnRNb2RlbDogSVRvdXJuYW1lbnRNb2RlbDtcbiAgICAgICAgYWxsUGxheWVyczogSVBsYXllcltdO1xuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBEcmFmdENvbmZpZ0NvbnRyb2xsZXIgaW1wbGVtZW50cyBJRHJhZnRDb25maWdDb250cm9sbGVyIHtcbiAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IElEcmFmdENvbmZpZ1Njb3BlO1xuICAgICAgICBwdWJsaWMgZm9ybWF0czogc3RyaW5nW107XG4gICAgICAgIHB1YmxpYyBzZXRzOiBJU2V0W107XG4gICAgICAgIHB1YmxpYyBwZW5kaW5nUGxheWVyOiBhbnk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRodHRwXCJdO1xuICAgICAgICBjb25zdHJ1Y3Rvcigkc2NvcGU6IElEcmFmdENvbmZpZ1Njb3BlLCAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmRyYWZ0Q29uZmlnQ29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgICAgICAkaHR0cC5nZXQ8YW55PihcImFwaS9wbGF5ZXJzL2xpc3RcIikudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5hbGxQbGF5ZXJzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJNYWdpYzogT3JpZ2luc1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJvcmlcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkRyYWdvbnMgb2YgVGFya2lyXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImR0a1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQmF0dGxlIGZvciBaZW5kaWthclwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJiZnpcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk1vZGVybiBNYXN0ZXJzIDIwMTVcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwibW0yXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJPYXRoIG9mIHRoZSBHYXRld2F0Y2hcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwib3RnXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaGFkb3dzIE92ZXIgSW5uaXN0cmFkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcInNvaVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRXRlcm5hbCBNYXN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImVtYVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRWxkcml0Y2ggTW9vblwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJlbW5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkthbGFkZXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImtsZFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQW1vbmtoZXRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiYWtoXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJIb3VyIG9mIERldmFzdGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImhvdVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiSXhhbGFuXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlhMTlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiSWNvbmljIE1hc3RlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiSU1BXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJVbnN0YWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJVU1RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJpdmFscyBvZiBJeGFsYW5cIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiUklYXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJNYXN0ZXJzIDI1XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkEyNVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRG9taW5hcmlhXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkRPTVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ29yZSAyMDE5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIk0xOVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ2hhb3MhXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNoYW9zIVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0cyA9IFtcIkxJTUlURURfRFJBRlRcIiwgXCJMSU1JVEVEX1RFQU1fRFJBRlRcIiwgXCJMSU1JVEVEX1NFQUxFRFwiLFxuICAgICAgICAgICAgXCJMSU1JVEVEX1RFQU1fU0VBTEVEXCIsIFwiTElNSVRFRF8ySEdfU0VBTEVEXCIsIFwiTElNSVRFRF8ySEdfRFJBRlRcIixcbiAgICAgICAgICAgIFwiQ09OU1RSVUNURURfQ0FTVUFMXCIsIFwiQ09OU1RSVUNURURfU1RBTkRBUkRcIiwgXCJDT05TVFJVQ1RFRF9NT0RFUk5cIixcbiAgICAgICAgICAgIFwiQ09OU1RSVUNURURfTEVHQUNZXCIsIFwiQ09OU1RSVUNURURfVklOVEFHRVwiXVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZFBlbmRpbmdQbGF5ZXIoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBlbmRpbmdQbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBlbmRpbmdQbGF5ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIG5ldyBwbGF5ZXIgaXMgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyLCBpdCB3aWxsIHNob3cgdXAgYXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucGVuZGluZ1BsYXllcikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS50b3VybmFtZW50TW9kZWwucGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMucGVuZGluZ1BsYXllcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBlbmRpbmdQbGF5ZXIubmFtZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnRvdXJuYW1lbnRNb2RlbC5wbGF5ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnBlbmRpbmdQbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMucGVuZGluZ1BsYXllci5pZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1BsYXllciA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlUGxheWVyKHBsYXllcjogSVBsYXllcikge1xuICAgICAgICAgICAgXy5yZW1vdmUodGhpcy4kc2NvcGUudG91cm5hbWVudE1vZGVsLnBsYXllcnMsIHBsYXllcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWdpYy5jb250cm9sbGVyKFwiZHJhZnRDb25maWdDb250cm9sbGVyXCIsIERyYWZ0Q29uZmlnQ29udHJvbGxlcik7XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=